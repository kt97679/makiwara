makiwara
========

Web server for stress testing of http frontends

Benchmarks

Requests were generated by httpress (https://bitbucket.org/yarosla/httpress/wiki/Home) with parameters -c 500 -n 100000

OS: Ubuntu 12.04.02 x64 on VM under XEN

<table>
<tr><td>web server</td><td>with keep-alive</td><td>without keep-alive</td></tr>
<tr><td>nginx 1.1.19</td><td>10284 rps, 3685 kbps, 48.6 ms avg req time</td><td>7415 rps, 2621 kbps, 67.4 ms avg req time</td></tr>
<tr><td>lighttpd 1.4.28</td><td>11729 rps, 4468 kbps, 42.6 ms avg req time</td><td>5219 rps, 2079 kbps, 95.8 ms avg req time</td></tr>
<tr><td>makiwara</td><td>31784 rps, 8628 kbps, 15.7 ms avg req time</td><td>4090 rps, 1110 kbps, 122.2 ms avg req time</td></tr>
<table>

As you can see makiwara works pretty well with keep-alive connections, not so good without keep-alive connections.

I'm not network programming expert any advices how to improve performance without keep-alives would be highly appreciated.
